<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vendor upload work  Page</title>
    <link rel="stylesheet" href="/css/skill.css">
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">

    <script src="https://kit.fontawesome.com/56adb67a5b.js" crossorigin="anonymous"></script>
</head>
<body>
    <style>
        :root{
    --body-bg: rgba(127,252,212, 0.1) ;
    --text-bg:orange;
    --box1-bg:#b8860B;
    --box2-bg:#DC143c;
}
*{
    margin: 0;
    padding: 0;
    outline: none;
    box-sizing: border-box;
}
body{
    background-color: var(--body-bg)!important;
  
}
.skill-intro{

    margin-top: 5rem;
    padding: 40px;
    font-size: large;
    margin: 10px;
}
.skill-intro .wrap-intro-txt  #h3{
    color: var(--text-bg);
}
.skill-intro .wrap-intro-txt h2, #h3{
    color: var(--text-bg);
}
.wlc-img{
    margin-top: 8rem;
    padding: 20px;
    
}
.wlc-img img{
  
    width: 60vw;

}
.btn-div{
    margin: 20px;
    padding: 10px;
    font-size: large;
    color: white;
}
.btn-div  .btn{
    width: 50%;
    color: white;
    background-color: var(--box1-bg);
    padding: 10px;
    border-radius: 10px;
   
}
/* registration skills  style.................................................................. */
.row .reg-data{
    margin-left: 20rem;
}

.image-info .join{
    background-color: var(--box1-bg);
    padding: 5px;
    color: white;
    cursor: pointer;
    border-radius: 10px;
    
}
#cont{
margin-left: 25%;


    
}
#cont input{
    padding: 10px;
   
}
#cont label{
    padding: 10px;
    margin: 10px;
    /* color: var(--text-bg); */
    font-size: x-large;
}
.form .card-header{
    /* background-color: var(--box1-bg); */
    color: var(--box1-bg);
}
.form{
    background-color: var(--body-bg);
}
.form  label,input{

  padding: 10px;
}
.form  input{

  padding: 10px;
}
.form .btn{
    padding: 10px;
    width:30%;
    background-color: var(--box1-bg) ;
    font-size: larger;
    color: white;
    cursor: pointer;

}


/* registration skills  style..................................................................  end */
    </style>
    <section class="container ">
        <article class="skill-intro">
            <div class="wrap-intro-txt text-center">
                <h2 id="buy" style="padding: 5px;"></h2>

            </div>
            <div class="intro text-center">
                <div class="text-center">Join now   to  showcase your skills on  our site and become visible, thus increasing  your chances 
                    <br> of getting  engageg with clients in needs of your experties .
                    <div> Become more visible   by Uploading your passed or previous works</div>
                    <h6> <a href="#" > Click Now to Upload</a></h6>

                </div>
            
            </div>

        </article>
    </section>
    <section class="container image-info">
        <div class="wlc-img text-center">
            <img src="/images/reg.jpg" alt="">
        </div>
        <div class="btn-div text-center">
            <button class="join">Upload Now</button>
        </div>
        
    </section>
    <hr>
    <div class="container" id="contUpload" style="display: none;">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card mt-5 login form">
                    <div class="card-header">
                        <h3 class="text-center"> Upload Works</h3>
                    </div>
                    <div class="card-body">
                        <form  id="registerForm "  action="/vendor/upload/works" method="post" enctype="multipart/form-data" >
              
                          
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" name="email" id="email" class="form-control" required>                              <span id="emailError" class="error-message"></span>
                                <span id="emailError" class="error-message"></span>

                            </div>
                            <div class="form-group">
                                <label for="password" id="name">Full Name</label>
                                <input type="text" name="name" id="name" class="form-control" required>
                                <span id="name" class="error-message"></span>
         
                            </div>
                            <div class="form-group">
                                <label for="profile_image" class="form-label">Upload recent works :</label>
                                <input type="file" class="form-control" id="profile_image" name="profileImage" accept="image/*" required>
                            
                            </div>
                            <div class="btn-cont text-center mt-5">
                                <button type="submit" class="btn " id="btn">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <script>
    







    </script> -->
   
    <script>
            const joinBtn = document.querySelector(".join");
        const imageSection = document.querySelector(".image-info");
        const contSection = document.querySelector("#contUpload");
        
        joinBtn.addEventListener("click", function() {
            imageSection.style.display = "none";
            contSection.style.display = "block";
        });
       document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('uploadWorkForm').addEventListener('submit', async function(event) {
  event.preventDefault(); // Prevent the default form submission

  const form = document.getElementById('uploadWorkForm');
  const formData = new FormData(form); // Create FormData object to handle file upload

  try {
    const response = await fetch('/api/uploadWorks', { // Assuming '/api/uploadWorks' is your API route
      method: 'POST',
      body: formData // Send the form data (including file) to the backend
    });

    const result = await response.json(); // Parse the JSON response

    if (response.ok) {
      document.getElementById('responseMessage').textContent = 'Work uploaded successfully!';
    } else {
      document.getElementById('responseMessage').textContent = `Error: ${result.error}`;
    }
  } catch (error) {
    document.getElementById('responseMessage').textContent = 'An error occurred while uploading work.';
    console.error('Error:', error);
  }
});


            const joinBtn = document.querySelector(".join");
        const imageSection = document.querySelector(".image-info");
        const contSection = document.querySelector("#cont");
        
        joinBtn.addEventListener("click", function() {
            imageSection.style.display = "none";
            contSection.style.display = "block";
        });
            // Typewriter effect
            const typewriter = document.getElementById('typewriter');
            const text = "Welcome to the Profession Registration Page!";
            let index = 0;

            function type() {
                if (index < text.length) {
                    typewriter.textContent += text.charAt(index);
                    index++;
                    setTimeout(type, 100); // Adjust typing speed
                }
            }

            type();
        });
        window.addEventListener("load",function(){
typeWriter()
  })
  var i = 0;
var txt = 'which service do you want  to render?';
var speed = 100;
  function typeWriter() {
if (i < txt.length) {
  document.getElementById("buy").innerHTML += txt.charAt(i);
  i++;
  setTimeout(typeWriter, speed);
}
}
        </script>
        
      <script src="/jquery/jquery.min.js"></script>
    <script src="/bootstrap/js/bootstrap.bundle.js"></script>

</body>
</html>